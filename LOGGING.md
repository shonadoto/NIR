# Логирование

В приложении реализована система логирования для отслеживания работы программы и диагностики проблем.

## Расположение лог-файла

Лог-файл сохраняется в директории данных приложения:
- **macOS**: `~/Library/Application Support/NIRMaterialEditor/NIRMaterialEditor_log.txt`
- **Windows**: `%APPDATA%\NIRMaterialEditor\NIRMaterialEditor_log.txt`
- **Linux**: `~/.local/share/NIRMaterialEditor/NIRMaterialEditor_log.txt`

При запуске приложения путь к лог-файлу отображается в статус-баре на 10 секунд.

## Что логируется

Система автоматически логирует:
- Все сообщения Qt (qDebug, qWarning, qCritical и т.д.)
- Необработанные исключения (C++ exceptions)
- Критические сигналы системы (SIGSEGV, SIGABRT и т.д.)
- Запуск и завершение приложения
- Операции с проектами (открытие, сохранение)
- Ошибки сериализации

## Использование в коде

Для добавления логирования в свой код используйте макросы:

```cpp
#include "utils/Logger.h"

LOG_DEBUG("Отладочное сообщение");
LOG_INFO("Информационное сообщение");
LOG_WARNING("Предупреждение");
LOG_ERROR("Ошибка");
LOG_CRITICAL("Критическая ошибка");
```

Макросы автоматически добавляют информацию о файле, строке и функции.

## Формат лог-файла

Каждая запись в лог-файле имеет формат:
```
[YYYY-MM-DD hh:mm:ss.zzz] [LEVEL] filename.cpp:line (function) message
```

Пример:
```
[2024-01-15 14:30:45.123] [INFO ] MainWindow.cpp:351 (new_project) New project created successfully
[2024-01-15 14:30:46.456] [ERROR] ProjectSerializer.cpp:50 (save_to_file) Failed to open file for writing: /path/to/file.json
```

## Диагностика проблем

При возникновении проблемы:
1. Найдите лог-файл (путь показан в статус-баре при запуске)
2. Скопируйте содержимое лог-файла
3. Отправьте разработчику вместе с описанием проблемы

Лог-файл содержит полную информацию о работе приложения, включая все ошибки и предупреждения.

